(this["webpackJsonpweb-frontend"]=this["webpackJsonpweb-frontend"]||[]).push([[0],{197:function(e,a,t){},322:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),i=t(41),c=t.n(i),r=(t(197),t(69),t(74)),o=t(38),l=t(374),d=t(367),j=t(35),b=t.n(j),h="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"",u=t(1),m=function(e,a){var t=a.resetForm;console.log("values",e),b.a.post("".concat(h,"/api/v1/signup"),{name:e.name,email:e.email,phone:e.phone,password:e.password}).then((function(e){console.log(e.data),t({})}))},p=o.a({email:o.b("Enter your email").email("Enter a valid email").required("Email is required"),name:o.b("Enter your password").min(4,"Name should be of minimum 4 characters length").required("Name is required"),phone:o.b("Enter your phone no.").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").min(11,"Phone should contain 11 digits").max(11,"Phone should contain 11 digits").required("phone number is required"),password:o.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});var O=function(){var e=Object(r.a)({validationSchema:p,initialValues:{email:"",name:"",phone:"",password:""},onSubmit:m});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"app-main",children:Object(u.jsx)("div",{className:"main",children:Object(u.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(u.jsx)("h3",{children:" Sign up Form "}),Object(u.jsx)(d.a,{id:"outlined-basic",name:"name",label:"name",className:"inputbox",value:e.values.name,onChange:e.handleChange,error:e.touched.name&&Boolean(e.errors.name),helperText:e.touched.name&&e.errors.name,variant:"outlined"}),Object(u.jsx)(d.a,{id:"outlined-basic",name:"email",label:"email",className:"inputbox",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email,variant:"outlined"}),Object(u.jsx)(d.a,{id:"outlined-basic",name:"phone",label:"phone",className:"inputbox",value:e.values.phone,onChange:e.handleChange,error:e.touched.phone&&Boolean(e.errors.phone),helperText:e.touched.phone&&e.errors.phone,variant:"outlined"}),Object(u.jsx)(d.a,{id:"outlined-basic",name:"password",label:"password",type:"password",className:"inputbox",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,variant:"outlined"}),Object(u.jsx)(l.a,{id:"btn",variant:"contained",color:"success",type:"submit",children:"Submit"})]})})})})},x=t(23),v=t(8),g=t(6),f=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.name&&a.payload.email?Object(g.a)(Object(g.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(g.a)(Object(g.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},w=Object(n.createContext)("Initial Value"),N={user:void 0};function C(e){var a=e.children,t=Object(n.useReducer)(f,N),s=Object(v.a)(t,2),i=s[0],c=s[1];return Object(u.jsx)(w.Provider,{value:{state:i,dispatch:c},children:a})}var y=o.a({email:o.b("Enter your email").email("Enter a valid email").required("Email is required"),password:o.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});var S=function(){Object(x.g)();var e=Object(n.useContext)(w),a=(e.state,e.dispatch),t=Object(r.a)({validationSchema:y,initialValues:{email:"",password:""},onSubmit:function(e){console.log("values",e),b.a.post("".concat(h,"/api/v1/login"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){console.log(e.data),alert("User Logined"),e.data.email&&a({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id}})}))}});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"app-main",children:Object(u.jsx)("div",{className:"main",children:Object(u.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(u.jsx)("h3",{children:" Login Form "}),Object(u.jsx)(d.a,{id:"outlined-basic",name:"email",label:"email",className:"inputbox",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email,variant:"outlined"}),Object(u.jsx)(d.a,{id:"outlined-basic",name:"password",label:"password",type:"password",className:"inputbox",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password,variant:"outlined"}),Object(u.jsx)(l.a,{id:"btn",variant:"contained",color:"success",type:"submit",children:"Login"})]})})})})},E=(t(119),t(368)),T=t(366),F=t(369),L=t(40);var q=function(){var e=Object(n.useContext)(w),a=(e.state,e.dispatch);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(E.a,{bg:"success",expand:"lg",children:Object(u.jsxs)(T.a,{children:[Object(u.jsx)(E.a.Brand,{className:"nav-main",children:"React-Form"}),Object(u.jsx)(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(E.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(F.a,{className:"me-auto",children:[Object(u.jsx)("li",{children:Object(u.jsx)(L.b,{to:"/",className:"nav-itms",children:"Profile"})}),Object(u.jsx)("li",{children:Object(u.jsx)(L.b,{to:"/dashboard",className:"nav-itms",children:"Dashboard"})}),Object(u.jsx)("li",{children:Object(u.jsx)(L.b,{to:"/",onClick:function(){b.a.post("".concat(h,"/api/v1/logout"),{},{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),a({type:"USER_LOGOUT"})}))},className:"nav-itms",children:"Logout"})})]})})]})})})},P=t(4),R=t(15),U=t(5),_=t(377),B=t(378),G=t(379),M=t(380),I=t(373),k=t(376),Y=t(372),A=t(68),D=t(181),V=t.n(D),J=t(179),W=t.n(J),H=t(180),Q=t.n(H),X=["expand"];Object(U.a)((function(e){e.expand;var a=Object(R.a)(e,X);return Object(u.jsx)(k.a,Object(g.a)({},a))}))((function(e){var a=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})}}));function $(e){var a=e.post,t=(e.email,e.name),s=e.time,i=n.useState(!1),c=Object(v.a)(i,2);c[0],c[1];return Object(u.jsx)("div",{className:"postcard",children:Object(u.jsxs)(_.a,{sx:{maxWidth:800},children:[Object(u.jsx)(B.a,{avatar:Object(u.jsx)(I.a,{sx:{bgcolor:A.a[500]},"aria-label":"recipe",children:t[0]}),id:"post-name",title:t,subheader:s}),Object(u.jsx)("hr",{style:{width:"100%"}}),Object(u.jsx)(G.a,{children:Object(u.jsx)(Y.a,{variant:"body2",color:"text.secondary",id:"post-item",children:a})}),Object(u.jsx)(M.a,{children:Object(u.jsxs)("div",{className:"cardfooter",children:[Object(u.jsx)(k.a,{className:"cardicon","aria-label":"React",children:Object(u.jsx)(W.a,{style:{marginRight:"40px"}})}),Object(u.jsx)(k.a,{className:"cardicon","aria-label":"Comment",children:Object(u.jsx)(Q.a,{style:{marginRight:"40px"}})}),Object(u.jsx)(k.a,{className:"cardicon","aria-label":"share",children:Object(u.jsx)(V.a,{})})]})})]})})}var z=t(182),K=t.n(z),Z=o.a({post:o.b("Enter your password").min(4,"Name should be of minimum 4 characters length").required("Name is required")});var ee=function(){var e,a=Object(n.useState)(!1),t=Object(v.a)(a,2),s=t[0],i=t[1],c=Object(n.useContext)(w),o=(c.state,c.dispatch,Object(n.useState)([])),j=Object(v.a)(o,2),m=j[0],p=j[1];Object(x.g)(),Object(n.useEffect)((function(){b.a.get("".concat(h,"/api/v1/post"),{withCredentials:!0}).then((function(e){console.log(e.data),p(e.data)})).catch((function(e){return alert("Error in getting data")}))}),[s]);var O=Object(r.a)({validationSchema:Z,initialValues:{post:""},onSubmit:function(e,a){var t=a.resetForm;console.log("values",e);var n=K()().format("MMMM Do YYYY");console.log(n),b.a.post("".concat(h,"/api/v1/post"),{post:e.post,time:n},{withCredentials:!0}).then((function(e){console.log("postdata",e.data),t({}),i(!s)}))}});return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"app-main",children:[Object(u.jsx)("div",{className:"post-main",children:Object(u.jsxs)("form",{id:"post-form",onSubmit:O.handleSubmit,children:[Object(u.jsx)("h3",{style:{padding:"5%"},children:" What's on Your Mind "}),Object(u.jsx)(d.a,(e={id:"outlined-basic",name:"post",label:"post",type:"post",className:"box"},Object(P.a)(e,"id","postbox"),Object(P.a)(e,"value",O.values.caption),Object(P.a)(e,"onChange",O.handleChange),Object(P.a)(e,"error",O.touched.caption&&Boolean(O.errors.caption)),Object(P.a)(e,"helperText",O.touched.caption&&O.errors.caption),Object(P.a)(e,"variant","outlined"),e)),Object(u.jsx)(l.a,{id:"btn",variant:"contained",color:"success",type:"submit",children:"Post"})]})}),Object(u.jsx)("div",{id:"posts",children:null===m||void 0===m?void 0:m.map((function(e){return Object(u.jsx)("div",{className:"postcard",children:Object(u.jsx)($,{name:null===e||void 0===e?void 0:e.name,time:null===e||void 0===e?void 0:e.time,post:null===e||void 0===e?void 0:e.post})})}))})]})})};var ae=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"splashscreen",children:Object(u.jsx)("img",{src:"https://c.tenor.com/sOcqo6-1sXQAAAAM/loading-bar.gif"})})})},te=t.p+"static/media/profile.fa9c4bd1.jpg";var ne=function(){var e=Object(n.useContext)(w),a=(e.state,e.dispatch,Object(n.useState)({})),t=Object(v.a)(a,2),s=t[0],i=t[1];return Object(n.useEffect)((function(){b.a.get("".concat(h,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),i(e.data)}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"profile",children:[Object(u.jsx)("h1",{id:"profileheader",children:"My Profile"}),Object(u.jsx)("img",{id:"profilepic",src:te}),Object(u.jsx)("h2",{id:"personaldtl",children:"Personal Details"}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("h4",{children:["Name: ",Object(u.jsxs)("span",{children:[" ",null===s||void 0===s?void 0:s.name," "]})," "]}),Object(u.jsxs)("h4",{children:["Email: ",null===s||void 0===s?void 0:s.email," "]}),Object(u.jsxs)("h4",{children:["Phone: ",null===s||void 0===s?void 0:s.phone]})]})]})})};var se=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(E.a,{bg:"success",expand:"lg",children:Object(u.jsxs)(T.a,{children:[Object(u.jsx)(E.a.Brand,{className:"nav-main",children:"React-Form"}),Object(u.jsx)(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(E.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(F.a,{className:"me-auto",children:[Object(u.jsx)("li",{children:Object(u.jsx)(L.b,{to:"/signup",className:"nav-itms",children:"Signup"})}),Object(u.jsx)("li",{children:Object(u.jsx)(L.b,{to:"/",className:"nav-itms",children:"Login"})})]})})]})})})};var ie=function(){Object(x.g)();var e,a=Object(n.useContext)(w),t=a.state,s=a.dispatch;return Object(n.useEffect)((function(){return b.a.get("".concat(h,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email?s({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,_id:e.data._id}}):s({type:"USER_LOGOUT"})})).catch((function(e){s({type:"USER_LOGOUT"})})),function(){}}),[]),Object(u.jsxs)(u.Fragment,{children:[(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.email)?Object(u.jsx)(q,{}):Object(u.jsx)(se,{}),void 0===t.user?Object(u.jsx)(x.d,{children:Object(u.jsx)(x.b,{exact:!0,path:"/",children:Object(u.jsx)(ae,{})})}):null,null===t.user?Object(u.jsxs)(x.d,{children:[Object(u.jsx)(x.b,{exact:!0,path:"/",component:S}),Object(u.jsx)(x.b,{exact:!0,path:"/signup",component:O}),Object(u.jsx)(x.a,{to:"/"})]}):null,t.user?Object(u.jsxs)(x.d,{children:[Object(u.jsx)(x.b,{exact:!0,path:"/",children:Object(u.jsx)(ne,{})}),Object(u.jsx)(x.b,{path:"/dashboard",children:Object(u.jsx)(ee,{})}),Object(u.jsx)(x.a,{to:"/"})]}):null]})},ce=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,381)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,i=a.getLCP,c=a.getTTFB;t(e),n(e),s(e),i(e),c(e)}))};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(C,{children:Object(u.jsx)(L.a,{children:Object(u.jsx)(ie,{})})})}),document.getElementById("root")),ce()},69:function(e,a,t){}},[[322,1,2]]]);
//# sourceMappingURL=main.c7701cfd.chunk.js.map